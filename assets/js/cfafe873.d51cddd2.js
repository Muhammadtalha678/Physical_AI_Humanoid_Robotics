"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[1480],{8075:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>t,contentTitle:()=>c,default:()=>h,frontMatter:()=>s,metadata:()=>r,toc:()=>o});const r=JSON.parse('{"id":"week-3-5/ros2-launch-files","title":"Launch Files and Parameter Management","description":"This section covers ROS 2 launch files and parameter management, which are essential for configuring and starting complex robot systems with multiple nodes.","source":"@site/docs/week-3-5/ros2-launch-files.md","sourceDirName":"week-3-5","slug":"/week-3-5/ros2-launch-files","permalink":"/Physical-AI-Humanoid-Robotics/docs/week-3-5/ros2-launch-files","draft":false,"unlisted":false,"editUrl":"https://github.com/Muhammadtalha678/Physical-AI-Humanoid-Robotics/edit/main/docs/docs/week-3-5/ros2-launch-files.md","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"sidebar_position":4,"title":"Launch Files and Parameter Management"},"sidebar":"tutorialSidebar","previous":{"title":"Building ROS 2 Packages with Python","permalink":"/Physical-AI-Humanoid-Robotics/docs/week-3-5/ros2-packages-python"},"next":{"title":"ROS 2 Assessment: Fundamentals and Implementation","permalink":"/Physical-AI-Humanoid-Robotics/docs/week-3-5/ros2-assessment"}}');var i=a(4848),l=a(8453);const s={sidebar_position:4,title:"Launch Files and Parameter Management"},c="Launch Files and Parameter Management",t={},o=[{value:"Launch Files Overview",id:"launch-files-overview",level:2},{value:"Purpose of Launch Files",id:"purpose-of-launch-files",level:3},{value:"Launch File Types",id:"launch-file-types",level:3},{value:"Python Launch Files",id:"python-launch-files",level:2},{value:"Basic Python Launch File Structure",id:"basic-python-launch-file-structure",level:3},{value:"Advanced Launch File Features",id:"advanced-launch-file-features",level:3},{value:"Conditional Launch",id:"conditional-launch",level:4},{value:"Grouping Nodes",id:"grouping-nodes",level:4},{value:"Including Other Launch Files",id:"including-other-launch-files",level:4},{value:"XML Launch Files",id:"xml-launch-files",level:2},{value:"Basic XML Structure",id:"basic-xml-structure",level:3},{value:"XML with Arguments",id:"xml-with-arguments",level:3},{value:"Parameter Management",id:"parameter-management",level:2},{value:"Parameter Sources",id:"parameter-sources",level:3},{value:"YAML Parameter Files",id:"yaml-parameter-files",level:3},{value:"Loading Parameters from YAML",id:"loading-parameters-from-yaml",level:3},{value:"Parameter Server",id:"parameter-server",level:2},{value:"Parameter Server Architecture",id:"parameter-server-architecture",level:3},{value:"Parameter Service Usage",id:"parameter-service-usage",level:3},{value:"Parameter Callbacks in Nodes",id:"parameter-callbacks-in-nodes",level:3},{value:"Advanced Launch Features",id:"advanced-launch-features",level:2},{value:"Event Handlers",id:"event-handlers",level:3},{value:"Timed Actions",id:"timed-actions",level:3},{value:"Launch File Best Practices",id:"launch-file-best-practices",level:2},{value:"Organization",id:"organization",level:3},{value:"Parameter Management",id:"parameter-management-1",level:3},{value:"Error Handling",id:"error-handling",level:3},{value:"Debugging Launch Files",id:"debugging-launch-files",level:2},{value:"Common Issues",id:"common-issues",level:3},{value:"Debugging Commands",id:"debugging-commands",level:3},{value:"Learning Objectives",id:"learning-objectives",level:2},{value:"Code Examples",id:"code-examples",level:2},{value:"Exercises",id:"exercises",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"launch-files-and-parameter-management",children:"Launch Files and Parameter Management"})}),"\n",(0,i.jsx)(n.p,{children:"This section covers ROS 2 launch files and parameter management, which are essential for configuring and starting complex robot systems with multiple nodes."}),"\n",(0,i.jsx)(n.h2,{id:"launch-files-overview",children:"Launch Files Overview"}),"\n",(0,i.jsx)(n.h3,{id:"purpose-of-launch-files",children:"Purpose of Launch Files"}),"\n",(0,i.jsx)(n.p,{children:"Launch files allow you to:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Start multiple nodes with a single command"}),"\n",(0,i.jsx)(n.li,{children:"Configure nodes with parameters"}),"\n",(0,i.jsx)(n.li,{children:"Set up remappings between topics/services"}),"\n",(0,i.jsx)(n.li,{children:"Manage complex system initialization"}),"\n",(0,i.jsx)(n.li,{children:"Provide reusable system configurations"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"launch-file-types",children:"Launch File Types"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"XML-based"}),": Simple, declarative launch configuration"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Python-based"}),": More flexible, programmable launch configuration"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"YAML-based"}),": Parameter configuration files"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"python-launch-files",children:"Python Launch Files"}),"\n",(0,i.jsx)(n.h3,{id:"basic-python-launch-file-structure",children:"Basic Python Launch File Structure"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"from launch import LaunchDescription\nfrom launch_ros.actions import Node\n\ndef generate_launch_description():\n    return LaunchDescription([\n        # Define nodes here\n        Node(\n            package='my_package',\n            executable='my_node',\n            name='my_node_name',\n            parameters=[\n                {'param1': 'value1'},\n                {'param2': 42}\n            ],\n            remappings=[\n                ('original_topic', 'new_topic')\n            ]\n        )\n    ])\n"})}),"\n",(0,i.jsx)(n.h3,{id:"advanced-launch-file-features",children:"Advanced Launch File Features"}),"\n",(0,i.jsx)(n.h4,{id:"conditional-launch",children:"Conditional Launch"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"from launch import LaunchDescription, LaunchContext\nfrom launch.actions import DeclareLaunchArgument\nfrom launch.substitutions import LaunchConfiguration\nfrom launch.conditions import IfCondition\n\ndef generate_launch_description():\n    # Declare launch arguments\n    use_sim_time = LaunchConfiguration('use_sim_time')\n    declare_use_sim_time = DeclareLaunchArgument(\n        'use_sim_time',\n        default_value='false',\n        description='Use simulation time'\n    )\n\n    return LaunchDescription([\n        declare_use_sim_time,\n        Node(\n            package='my_package',\n            executable='my_node',\n            name='my_node',\n            parameters=[\n                {'use_sim_time': use_sim_time}\n            ]\n        )\n    ])\n"})}),"\n",(0,i.jsx)(n.h4,{id:"grouping-nodes",children:"Grouping Nodes"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"from launch.actions import GroupAction\nfrom launch_ros.actions import PushRosNamespace\n\n# Group nodes under a namespace\ngroup_action = GroupAction(\n    actions=[\n        PushRosNamespace('robot1'),\n        Node(\n            package='navigation',\n            executable='nav_node',\n            name='nav_node'\n        ),\n        Node(\n            package='localization',\n            executable='loc_node',\n            name='loc_node'\n        )\n    ]\n)\n"})}),"\n",(0,i.jsx)(n.h4,{id:"including-other-launch-files",children:"Including Other Launch Files"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"from launch.actions import IncludeLaunchDescription\nfrom launch.launch_description_sources import PythonLaunchDescriptionSource\nfrom ament_index_python.packages import get_package_share_directory\n\ndef generate_launch_description():\n    # Include another launch file\n    nav_launch = IncludeLaunchDescription(\n        PythonLaunchDescriptionSource([\n            get_package_share_directory('nav2_bringup'),\n            '/launch/navigation_launch.py'\n        ])\n    )\n\n    return LaunchDescription([\n        nav_launch,\n        # Additional nodes\n    ])\n"})}),"\n",(0,i.jsx)(n.h2,{id:"xml-launch-files",children:"XML Launch Files"}),"\n",(0,i.jsx)(n.h3,{id:"basic-xml-structure",children:"Basic XML Structure"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-xml",children:'<launch>\n  <node pkg="my_package" exec="my_node" name="my_node_name">\n    <param name="param1" value="value1"/>\n    <remap from="original_topic" to="new_topic"/>\n  </node>\n</launch>\n'})}),"\n",(0,i.jsx)(n.h3,{id:"xml-with-arguments",children:"XML with Arguments"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-xml",children:'<launch>\n  <arg name="robot_name" default="robot1"/>\n\n  <node pkg="my_package" exec="my_node" name="$(var robot_name)_node">\n    <param name="robot_name" value="$(var robot_name)"/>\n  </node>\n</launch>\n'})}),"\n",(0,i.jsx)(n.h2,{id:"parameter-management",children:"Parameter Management"}),"\n",(0,i.jsx)(n.h3,{id:"parameter-sources",children:"Parameter Sources"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Launch files"}),": Parameters specified in launch files"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"YAML files"}),": External parameter configuration files"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Command line"}),": Parameters passed at runtime"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Parameter servers"}),": Dynamic parameter management"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"yaml-parameter-files",children:"YAML Parameter Files"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:'# robot_params.yaml\n/**:  # Applies to all nodes\n  ros__parameters:\n    use_sim_time: false\n    global_frame: "map"\n    robot_base_frame: "base_link"\n\nmy_robot_controller:  # Applies to specific node\n  ros__parameters:\n    cmd_vel_topic: "cmd_vel"\n    odom_topic: "odom"\n    max_velocity: 1.0\n    min_velocity: -1.0\n'})}),"\n",(0,i.jsx)(n.h3,{id:"loading-parameters-from-yaml",children:"Loading Parameters from YAML"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"from ament_index_python.packages import get_package_share_directory\nimport os\n\ndef generate_launch_description():\n    # Get path to parameter file\n    params_file = os.path.join(\n        get_package_share_directory('my_package'),\n        'config',\n        'robot_params.yaml'\n    )\n\n    return LaunchDescription([\n        Node(\n            package='my_package',\n            executable='my_node',\n            name='my_node',\n            parameters=[params_file]\n        )\n    ])\n"})}),"\n",(0,i.jsx)(n.h2,{id:"parameter-server",children:"Parameter Server"}),"\n",(0,i.jsx)(n.h3,{id:"parameter-server-architecture",children:"Parameter Server Architecture"}),"\n",(0,i.jsx)(n.p,{children:"The parameter server in ROS 2 is distributed:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Each node maintains its own parameter service"}),"\n",(0,i.jsx)(n.li,{children:"Parameters can be set/get at runtime"}),"\n",(0,i.jsx)(n.li,{children:"Parameter callbacks allow nodes to respond to changes"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"parameter-service-usage",children:"Parameter Service Usage"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Get parameter\nros2 param get /node_name parameter_name\n\n# Set parameter\nros2 param set /node_name parameter_name value\n\n# List parameters\nros2 param list /node_name\n\n# Dump all parameters to file\nros2 param dump /node_name > params.yaml\n"})}),"\n",(0,i.jsx)(n.h3,{id:"parameter-callbacks-in-nodes",children:"Parameter Callbacks in Nodes"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"from rclpy.parameter import Parameter\n\nclass MyNode(Node):\n    def __init__(self):\n        super().__init__('my_node')\n\n        # Declare parameters with defaults\n        self.declare_parameter('my_param', 'default_value')\n\n        # Register parameter callback\n        self.add_on_set_parameters_callback(self.parameter_callback)\n\n    def parameter_callback(self, params):\n        for param in params:\n            if param.name == 'my_param' and param.type_ == Parameter.Type.STRING:\n                self.get_logger().info(f'Parameter updated: {param.value}')\n                # Handle parameter change\n                return SetParametersResult(successful=True)\n        return SetParametersResult(successful=True)\n"})}),"\n",(0,i.jsx)(n.h2,{id:"advanced-launch-features",children:"Advanced Launch Features"}),"\n",(0,i.jsx)(n.h3,{id:"event-handlers",children:"Event Handlers"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'from launch.event_handlers import OnProcessExit, OnProcessStart\nfrom launch.actions import RegisterEventHandler\n\n# Execute action when node starts\non_node_start = RegisterEventHandler(\n    OnProcessStart(\n        target_action=node_action,\n        on_start=[\n            LogInfo(msg="Node started successfully")\n        ]\n    )\n)\n'})}),"\n",(0,i.jsx)(n.h3,{id:"timed-actions",children:"Timed Actions"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"from launch.actions import TimerAction\n\n# Start node after delay\ndelayed_node = TimerAction(\n    period=5.0,  # Wait 5 seconds\n    actions=[node_action]\n)\n"})}),"\n",(0,i.jsx)(n.h2,{id:"launch-file-best-practices",children:"Launch File Best Practices"}),"\n",(0,i.jsx)(n.h3,{id:"organization",children:"Organization"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Use descriptive names for launch files"}),"\n",(0,i.jsx)(n.li,{children:"Group related functionality in separate launch files"}),"\n",(0,i.jsx)(n.li,{children:"Use arguments to make launch files flexible"}),"\n",(0,i.jsx)(n.li,{children:"Document launch file purpose and arguments"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"parameter-management-1",children:"Parameter Management"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Separate parameters into logical groups"}),"\n",(0,i.jsx)(n.li,{children:"Use YAML files for complex parameter configurations"}),"\n",(0,i.jsx)(n.li,{children:"Provide reasonable defaults"}),"\n",(0,i.jsx)(n.li,{children:"Use consistent naming conventions"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"error-handling",children:"Error Handling"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Validate launch file arguments"}),"\n",(0,i.jsx)(n.li,{children:"Handle missing dependencies gracefully"}),"\n",(0,i.jsx)(n.li,{children:"Provide informative error messages"}),"\n",(0,i.jsx)(n.li,{children:"Test launch files in isolation"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"debugging-launch-files",children:"Debugging Launch Files"}),"\n",(0,i.jsx)(n.h3,{id:"common-issues",children:"Common Issues"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Node not found"}),": Check package installation and executable names"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Parameter not loaded"}),": Verify YAML syntax and file paths"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Permission errors"}),": Check file permissions and ownership"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Dependency issues"}),": Ensure all required packages are installed"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"debugging-commands",children:"Debugging Commands"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Check launch file syntax\nros2 launch --dry-run my_package my_launch.py\n\n# Verbose output\nros2 launch my_package my_launch.py --log-level debug\n\n# List all launch arguments\nros2 launch my_package my_launch.py --show-args\n"})}),"\n",(0,i.jsx)(n.h2,{id:"learning-objectives",children:"Learning Objectives"}),"\n",(0,i.jsx)(n.p,{children:"After completing this section, you should be able to:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Create and configure Python and XML launch files"}),"\n",(0,i.jsx)(n.li,{children:"Manage parameters using YAML files and launch files"}),"\n",(0,i.jsx)(n.li,{children:"Use launch arguments for flexible configurations"}),"\n",(0,i.jsx)(n.li,{children:"Implement parameter callbacks in nodes"}),"\n",(0,i.jsx)(n.li,{children:"Debug common launch file issues"}),"\n",(0,i.jsx)(n.li,{children:"Organize complex robot systems using launch files"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"code-examples",children:"Code Examples"}),"\n",(0,i.jsx)(n.p,{children:"Refer to the following code examples in the textbook repository:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"docs/static/code-examples/ros2-examples/simple_publisher.py"})," - Example node that can be launched with launch files"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"docs/static/code-examples/ros2-examples/simple_subscriber.py"})," - Example node that can be launched with launch files"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"exercises",children:"Exercises"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Create a launch file that starts multiple nodes with different parameters"}),"\n",(0,i.jsx)(n.li,{children:"Implement a parameter server in a node with callback functionality"}),"\n",(0,i.jsx)(n.li,{children:"Create a YAML parameter file and load it in a launch file"}),"\n",(0,i.jsx)(n.li,{children:"Design a launch file that includes other launch files for modular configuration"}),"\n",(0,i.jsx)(n.li,{children:"Experiment with launch files using the provided ROS 2 examples"}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},8453:(e,n,a)=>{a.d(n,{R:()=>s,x:()=>c});var r=a(6540);const i={},l=r.createContext(i);function s(e){const n=r.useContext(l);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:s(e.components),r.createElement(l.Provider,{value:n},e.children)}}}]);