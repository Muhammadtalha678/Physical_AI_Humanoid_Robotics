"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[1131],{3745:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>l,contentTitle:()=>o,default:()=>h,frontMatter:()=>c,metadata:()=>i,toc:()=>a});const i=JSON.parse('{"id":"week-3-5/ros2-nodes-topics","title":"ROS 2 Nodes, Topics, Services, and Actions","description":"This section covers the fundamental communication mechanisms in ROS 2: nodes, topics, services, and actions. Understanding these concepts is crucial for developing distributed robot applications.","source":"@site/docs/week-3-5/ros2-nodes-topics.md","sourceDirName":"week-3-5","slug":"/week-3-5/ros2-nodes-topics","permalink":"/Physical-AI-Humanoid-Robotics/docs/week-3-5/ros2-nodes-topics","draft":false,"unlisted":false,"editUrl":"https://github.com/Muhammadtalha678/Physical-AI-Humanoid-Robotics/edit/main/docs/docs/week-3-5/ros2-nodes-topics.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2,"title":"ROS 2 Nodes, Topics, Services, and Actions"},"sidebar":"tutorialSidebar","previous":{"title":"ROS 2 Architecture and Core Concepts","permalink":"/Physical-AI-Humanoid-Robotics/docs/week-3-5/ros2-architecture"},"next":{"title":"Building ROS 2 Packages with Python","permalink":"/Physical-AI-Humanoid-Robotics/docs/week-3-5/ros2-packages-python"}}');var r=n(4848),t=n(8453);const c={sidebar_position:2,title:"ROS 2 Nodes, Topics, Services, and Actions"},o="ROS 2 Nodes, Topics, Services, and Actions",l={},a=[{value:"Nodes",id:"nodes",level:2},{value:"Definition",id:"definition",level:3},{value:"Node Characteristics",id:"node-characteristics",level:3},{value:"Node Creation and Management",id:"node-creation-and-management",level:3},{value:"Node Composition",id:"node-composition",level:3},{value:"Topics and Publisher-Subscriber Pattern",id:"topics-and-publisher-subscriber-pattern",level:2},{value:"Topics",id:"topics",level:3},{value:"Publishers",id:"publishers",level:3},{value:"Subscribers",id:"subscribers",level:3},{value:"Message Types",id:"message-types",level:3},{value:"Topic Communication Characteristics",id:"topic-communication-characteristics",level:3},{value:"Services and Client-Server Pattern",id:"services-and-client-server-pattern",level:2},{value:"Services",id:"services",level:3},{value:"Service Servers",id:"service-servers",level:3},{value:"Service Clients",id:"service-clients",level:3},{value:"Service Characteristics",id:"service-characteristics",level:3},{value:"Actions",id:"actions",level:2},{value:"Action Architecture",id:"action-architecture",level:3},{value:"Action Servers",id:"action-servers",level:3},{value:"Action Clients",id:"action-clients",level:3},{value:"Action Characteristics",id:"action-characteristics",level:3},{value:"Communication Pattern Selection",id:"communication-pattern-selection",level:2},{value:"When to Use Topics",id:"when-to-use-topics",level:3},{value:"When to Use Services",id:"when-to-use-services",level:3},{value:"When to Use Actions",id:"when-to-use-actions",level:3},{value:"Quality of Service (QoS) Considerations",id:"quality-of-service-qos-considerations",level:2},{value:"Reliability Policy",id:"reliability-policy",level:3},{value:"Durability Policy",id:"durability-policy",level:3},{value:"History Policy",id:"history-policy",level:3},{value:"Learning Objectives",id:"learning-objectives",level:2},{value:"Code Examples",id:"code-examples",level:2},{value:"Exercises",id:"exercises",level:2}];function d(e){const s={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.header,{children:(0,r.jsx)(s.h1,{id:"ros-2-nodes-topics-services-and-actions",children:"ROS 2 Nodes, Topics, Services, and Actions"})}),"\n",(0,r.jsx)(s.p,{children:"This section covers the fundamental communication mechanisms in ROS 2: nodes, topics, services, and actions. Understanding these concepts is crucial for developing distributed robot applications."}),"\n",(0,r.jsx)(s.h2,{id:"nodes",children:"Nodes"}),"\n",(0,r.jsx)(s.h3,{id:"definition",children:"Definition"}),"\n",(0,r.jsx)(s.p,{children:"A node is an executable that uses ROS to communicate with other nodes. Nodes are the basic computational elements of a ROS system where processes take place."}),"\n",(0,r.jsx)(s.h3,{id:"node-characteristics",children:"Node Characteristics"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Unique Names"}),": Each node must have a unique name within the ROS graph"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Namespace Support"}),": Nodes can be organized in namespaces for better organization"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Multiple Languages"}),": Nodes can be written in different programming languages"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Process Isolation"}),": Each node runs in its own process"]}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"node-creation-and-management",children:"Node Creation and Management"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Initialization"}),": Nodes must be initialized with a name and context"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Execution"}),": Nodes typically run in a spin loop to process callbacks"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Cleanup"}),": Nodes should properly clean up resources when shutting down"]}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"node-composition",children:"Node Composition"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Single Process"}),": Multiple nodes can run in a single process for efficiency"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Component Architecture"}),": Components can be loaded/unloaded dynamically"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Resource Sharing"}),": Shared memory between components in the same process"]}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"topics-and-publisher-subscriber-pattern",children:"Topics and Publisher-Subscriber Pattern"}),"\n",(0,r.jsx)(s.h3,{id:"topics",children:"Topics"}),"\n",(0,r.jsx)(s.p,{children:"Topics are named buses over which nodes exchange messages. The topic name is a unique identifier that allows nodes to send and receive data."}),"\n",(0,r.jsx)(s.h3,{id:"publishers",children:"Publishers"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Message Creation"}),": Publishers create and send messages to topics"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"QoS Configuration"}),": Publishers configure Quality of Service settings"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Connection Management"}),": Publishers handle connections to subscribers"]}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"subscribers",children:"Subscribers"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Callback Registration"}),": Subscribers register callbacks to process messages"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Message Processing"}),": Subscribers handle incoming messages asynchronously"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"QoS Matching"}),": Subscribers must match publisher QoS for communication"]}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"message-types",children:"Message Types"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Standard Messages"}),": Common message types defined in ",(0,r.jsx)(s.code,{children:"std_msgs"}),", ",(0,r.jsx)(s.code,{children:"geometry_msgs"}),", etc."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Custom Messages"}),": User-defined message types created in ",(0,r.jsx)(s.code,{children:".msg"})," files"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Message Generation"}),": Messages automatically generated for multiple languages"]}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"topic-communication-characteristics",children:"Topic Communication Characteristics"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Anonymous"}),": Publishers and subscribers don't know about each other"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Many-to-Many"}),": Multiple publishers can send to a topic, multiple subscribers can receive"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Asynchronous"}),": Publishers and subscribers don't need to run simultaneously"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Loose Coupling"}),": Publishers and subscribers are decoupled in time and space"]}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"services-and-client-server-pattern",children:"Services and Client-Server Pattern"}),"\n",(0,r.jsx)(s.h3,{id:"services",children:"Services"}),"\n",(0,r.jsx)(s.p,{children:"Services provide synchronous request-response communication between nodes. A service has a specific name and a defined interface."}),"\n",(0,r.jsx)(s.h3,{id:"service-servers",children:"Service Servers"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Request Handling"}),": Service servers process incoming requests"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Response Generation"}),": Servers generate appropriate responses"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Blocking Operations"}),": Service calls block until response is received"]}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"service-clients",children:"Service Clients"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Request Sending"}),": Clients send requests to service servers"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Response Waiting"}),": Clients wait for and process responses"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Error Handling"}),": Clients handle service errors and timeouts"]}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"service-characteristics",children:"Service Characteristics"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Synchronous"}),": Client waits for response before continuing"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"One-to-One"}),": One request generates one response"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Stateless"}),": Each request is independent of others"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Reliable"}),": Request-response is guaranteed (with appropriate QoS)"]}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"actions",children:"Actions"}),"\n",(0,r.jsx)(s.h3,{id:"action-architecture",children:"Action Architecture"}),"\n",(0,r.jsx)(s.p,{children:"Actions are designed for long-running tasks and consist of three parts:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Goal"}),": Request to perform an action"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Feedback"}),": Periodic updates on action progress"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Result"}),": Final outcome of the action"]}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"action-servers",children:"Action Servers"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Goal Acceptance"}),": Decide whether to accept or reject incoming goals"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Execution Management"}),": Execute the action while providing feedback"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Result Generation"}),": Provide final result when action completes"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Preemption Handling"}),": Cancel ongoing actions when requested"]}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"action-clients",children:"Action Clients"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Goal Sending"}),": Send goals to action servers"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Feedback Monitoring"}),": Monitor progress through feedback"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Result Waiting"}),": Wait for and process final results"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Goal Canceling"}),": Cancel goals if needed"]}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"action-characteristics",children:"Action Characteristics"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Long-Running"}),": Designed for tasks that take significant time"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Progress Updates"}),": Provide feedback during execution"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Cancelation Support"}),": Allow goals to be canceled"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Preemption"}),": Support for interrupting ongoing actions"]}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"communication-pattern-selection",children:"Communication Pattern Selection"}),"\n",(0,r.jsx)(s.h3,{id:"when-to-use-topics",children:"When to Use Topics"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Sensor Data"}),": Publishing sensor readings (camera images, LIDAR scans)"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Robot State"}),": Broadcasting robot state information"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Event Notification"}),": Broadcasting events to multiple subscribers"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Real-time Requirements"}),": When low latency is important"]}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"when-to-use-services",children:"When to Use Services"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Simple Queries"}),": Requesting specific information"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Configuration"}),": Setting parameters or configuration"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Brief Operations"}),": Tasks that complete quickly"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"State Requests"}),": Getting current state of a system"]}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"when-to-use-actions",children:"When to Use Actions"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Long-Running Tasks"}),": Navigation, manipulation, calibration"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Progress Monitoring"}),": Tasks where users need progress updates"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Cancelable Operations"}),": Tasks that might need to be interrupted"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Complex Results"}),": Operations that return complex result data"]}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"quality-of-service-qos-considerations",children:"Quality of Service (QoS) Considerations"}),"\n",(0,r.jsx)(s.h3,{id:"reliability-policy",children:"Reliability Policy"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Reliable"}),": All messages are guaranteed to be delivered"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Best Effort"}),": Messages may be lost, but delivery is faster"]}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"durability-policy",children:"Durability Policy"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Transient Local"}),": Late-joining subscribers receive last message"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Volatile"}),": No historical data provided to new subscribers"]}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"history-policy",children:"History Policy"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Keep Last"}),": Maintain only the most recent messages"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Keep All"}),": Maintain all messages (use with care)"]}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"learning-objectives",children:"Learning Objectives"}),"\n",(0,r.jsx)(s.p,{children:"After completing this section, you should be able to:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Create and manage ROS 2 nodes in both C++ and Python"}),"\n",(0,r.jsx)(s.li,{children:"Implement publisher-subscriber communication patterns"}),"\n",(0,r.jsx)(s.li,{children:"Design and use service-based communication"}),"\n",(0,r.jsx)(s.li,{children:"Implement action-based communication for long-running tasks"}),"\n",(0,r.jsx)(s.li,{children:"Choose appropriate communication patterns for different scenarios"}),"\n",(0,r.jsx)(s.li,{children:"Configure Quality of Service settings for different use cases"}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"code-examples",children:"Code Examples"}),"\n",(0,r.jsx)(s.p,{children:"Refer to the following code examples in the textbook repository:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"docs/static/code-examples/ros2-examples/simple_publisher.py"})," - Basic publisher node example"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"docs/static/code-examples/ros2-examples/simple_subscriber.py"})," - Basic subscriber node example"]}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"exercises",children:"Exercises"}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsx)(s.li,{children:"Implement a simple publisher-subscriber pair that exchanges custom messages"}),"\n",(0,r.jsx)(s.li,{children:"Create a service server that performs a mathematical calculation and a client that uses it"}),"\n",(0,r.jsx)(s.li,{children:"Design an action server for a robot navigation task with progress feedback"}),"\n",(0,r.jsx)(s.li,{children:"Compare the performance characteristics of different communication patterns for a specific use case"}),"\n",(0,r.jsx)(s.li,{children:"Run and modify the provided ROS 2 examples to understand publisher-subscriber communication"}),"\n"]})]})}function h(e={}){const{wrapper:s}={...(0,t.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},8453:(e,s,n)=>{n.d(s,{R:()=>c,x:()=>o});var i=n(6540);const r={},t=i.createContext(r);function c(e){const s=i.useContext(t);return i.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function o(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:c(e.components),i.createElement(t.Provider,{value:s},e.children)}}}]);